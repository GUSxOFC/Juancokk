<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>control bot telegram </title>
<link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Ubuntu:wght@400;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#050505;
  --panel:#0a0a0a;
  --accent:#00ff9c;
  --muted:#9fffcf;
}
*{box-sizing:border-box}
body{
  margin:0;
  background:linear-gradient(180deg,#000 0%,#020305 100%);
  color:var(--muted);
  font-family:'Ubuntu',sans-serif;
  padding:24px;
}
.wrap{
  max-width:950px;
  margin:0 auto;
  padding:20px;
  border:1px solid rgba(0,255,156,0.1);
  border-radius:12px;
  background-color:var(--panel);
  box-shadow:0 0 20px rgba(0,255,156,0.06);
}
header{
  display:flex;
  align-items:center;
  gap:14px;
  margin-bottom:30px;
}
.logo{
  width:58px;
  height:58px;
  border-radius:10px;
  background:linear-gradient(135deg,#002b1a,#00452b);
  color:var(--accent);
  font-family:'Share Tech Mono',monospace;
  display:grid;
  place-items:center;
  font-size:20px;
  font-weight:700;
}
h1{margin:0;color:#aff;letter-spacing:1px;font-family:'Share Tech Mono',monospace;}
p.lead{color:#8ff5c9;margin:6px 0 0;font-size:13px}
.section{
  background:#0e0e0e;
  border:1px solid rgba(0,255,156,0.1);
  border-radius:10px;
  padding:18px;
  margin-bottom:28px;
  box-shadow:0 3px 10px rgba(0,0,0,0.4);
}
label{display:block;margin-bottom:6px;font-size:13px;color:#aff}
input[type=text],input[type=number],select,textarea{
  width:100%;
  padding:10px;
  border-radius:8px;
  border:1px solid rgba(0,255,156,0.15);
  background:rgba(255,255,255,0.03);
  color:#9fffcf;
  font-size:14px;
}
textarea{min-height:80px;resize:vertical}
.btn{
  background:linear-gradient(90deg,var(--accent),#00ffaa);
  border:none;
  color:#000;
  font-weight:700;
  padding:10px 14px;
  border-radius:8px;
  cursor:pointer;
  box-shadow:0 4px 14px rgba(0,255,156,0.15);
}
.btn:hover{opacity:0.85}
.btn.ghost{
  background:transparent;
  border:1px solid rgba(0,255,156,0.2);
  color:var(--muted);
}
.log{
  height:160px;
  overflow:auto;
  background:rgba(0,0,0,0.3);
  border-radius:8px;
  padding:10px;
  font-size:12px;
  font-family:monospace;
}
.small{font-size:12px;color:#8ff5c9}
.footer{text-align:center;font-size:12px;color:#80ffc5;margin-top:30px}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <div class="logo">GC</div>
    <div>
      <h1>GusOfcXD 404</h1>
      <p class="lead">hek bumi pake termux ðŸ«£ðŸ˜ˆ</p>
    </div>
  </header>

  <div class="section">
    <label for="token">Masukkan Token Bot</label>
    <input id="token" type="text" placeholder="Contoh: 123456:ABC..." autocomplete="off">
    <div style="display:flex;gap:10px;margin-top:10px">
      <button class="btn" id="loadChatsBtn">Muat Chat</button>
      <button class="btn ghost" id="clearBtn">Kosongkan</button>
    </div>
  </div>

  <div class="section">
    <label for="grup"> Pilih Grup / Channel</label>
    <select id="grup"><option disabled selected>Belum dimuat</option></select>
  </div>

  <div class="section">
    <label for="pesan"> Kirim Pesan ke Grup / Channel</label>
    <textarea id="pesan" placeholder="Isi pesan di sini..."></textarea>
    <button class="btn" id="sendGroupBtn" style="margin-top:10px">Kirim Pesan</button>
  </div>

  <div class="section">
    <label for="newTitle"> Ganti Nama Grup / Channel</label>
    <input id="newTitle" type="text" placeholder="Nama baru...">
    <button class="btn" id="changeTitleBtn" style="margin-top:10px">Ganti Nama</button>
  </div>

  <div class="section">
    <label for="foto"> Ganti Foto Grup / Channel</label>
    <input id="foto" type="file" accept="image/*">
    <button class="btn" id="updatePhotoBtn" style="margin-top:10px">Perbarui Foto</button>
  </div>

  <div class="section">
    <label for="toUserId"> Kirim Pesan ke User / ID</label>
    <input id="toUserId" type="text" placeholder="Masukkan id atau @username">
    <textarea id="toUserMsg" placeholder="Pesan ke user..." style="margin-top:8px"></textarea>
    <button class="btn" id="sendUserBtn" style="margin-top:10px">Kirim ke User</button>
  </div>

  <div class="section">
    <label for="newBotName"> Ganti Nama Bot</label>
    <input id="newBotName" type="text" placeholder="Masukkan nama bot baru">
    <button class="btn" id="setBotNameBtn" style="margin-top:10px">Ganti Nama Bot</button>
  </div>

  <div class="section">
    <label for="idSpam"> Spam Bot</label>
    <input id="idSpam" type="text" placeholder="ID Penerima / @username">
    <input id="jumlahSpam" type="number" min="1" placeholder="Jumlah pesan">
    <textarea id="pesanSpam" placeholder="Pesan spam..."></textarea>
    <button class="btn" id="spamBtn" style="margin-top:10px;background:linear-gradient(90deg,#ff4444,#ff8888);color:#fff;">Mulai Spam</button>
  </div>

  <div class="section">
    <h3 style="margin-top:0">Log Aktivitas</h3>
    <div id="status" class="small">Menunggu aksi...</div>
    <div id="log" class="log"></div>
  </div>

  <div class="footer">GusOfcXD 404</div>
</div>

<script>
function apiUrl(token,method){return`https://api.telegram.org/bot${encodeURIComponent(token)}/${method}`}
function log(t){const l=document.getElementById('log');const s=document.getElementById('status');const time=new Date().toLocaleTimeString();l.innerText=`[${time}] ${t}\n`+l.innerText;s.innerText=t}
async function safeFetch(url,opt){try{const r=await fetch(url,opt);return await r.json()}catch(e){return{ok:false,error:e.message}}}

document.getElementById('loadChatsBtn').onclick=async()=>{
 const token=document.getElementById('token').value.trim()
 if(!token)return log('Token kosong!')
 log('Memuat daftar chat...')
 const data=await safeFetch(apiUrl(token,'getUpdates'))
 const select=document.getElementById('grup');select.innerHTML=''
 if(!data.ok)return log('Gagal: '+(data.description||data.error))
 const found=new Map()
 for(const u of data.result||[]){const m=u.message||u.channel_post;if(!m)continue;const c=m.chat;if(!c)continue;found.set(c.id,{id:c.id,name:c.title||c.username||c.first_name,type:c.type})}
 if(found.size===0)return log('Tidak ada chat ditemukan.')
 for(const [k,v] of found){const o=document.createElement('option');o.value=v.id;o.textContent=`${v.name} (${v.type})`;select.appendChild(o)}
 log('Chat berhasil dimuat.')
}

document.getElementById('clearBtn').onclick=()=>{
 document.getElementById('token').value=''
 document.getElementById('grup').innerHTML='<option disabled selected>Belum dimuat</option>'
 log('Form dikosongkan.')
}

document.getElementById('sendGroupBtn').onclick=async()=>{
 const t=document.getElementById('token').value.trim(),g=document.getElementById('grup').value,p=document.getElementById('pesan').value
 if(!t||!g||!p)return log('Lengkapi data.')
 const r=await safeFetch(apiUrl(t,'sendMessage'),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({chat_id:g,text:p})})
 r.ok?log('Pesan dikirim.'):log('Gagal: '+JSON.stringify(r))
}

document.getElementById('changeTitleBtn').onclick=async()=>{
 const t=document.getElementById('token').value.trim(),g=document.getElementById('grup').value,n=document.getElementById('newTitle').value
 if(!t||!g||!n)return log('Lengkapi data.')
 const r=await safeFetch(apiUrl(t,'setChatTitle'),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({chat_id:g,title:n})})
 r.ok?log('Nama diganti.'):log('Gagal: '+JSON.stringify(r))
}

document.getElementById('updatePhotoBtn').onclick=async()=>{
 const t=document.getElementById('token').value.trim(),g=document.getElementById('grup').value,f=document.getElementById('foto').files[0]
 if(!t||!g||!f)return log('Lengkapi data.')
 log('Mengganti foto grup/channel...')
 const form=new FormData();form.append('chat_id',g);form.append('photo',f)
 try{
   const r=await fetch(apiUrl(t,'setChatPhoto'),{method:'POST',body:form})
   const j=await r.json()
   j.ok?log('Foto grup berhasil diperbarui.'):log('Gagal update foto: '+JSON.stringify(j))
 }catch(e){log('Error: '+e.message)}
}

document.getElementById('sendUserBtn').onclick=async()=>{
 const t=document.getElementById('token').value.trim(),id=document.getElementById('toUserId').value.trim(),msg=document.getElementById('toUserMsg').value.trim()
 if(!t||!id||!msg)return log('Lengkapi data.')
 const r=await safeFetch(apiUrl(t,'sendMessage'),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({chat_id:id,text:msg})})
 r.ok?log('Pesan ke user terkirim.'):log('Gagal kirim: '+JSON.stringify(r))
}

document.getElementById('setBotNameBtn').onclick=async()=>{
 const t=document.getElementById('token').value.trim(),n=document.getElementById('newBotName').value.trim()
 if(!t||!n)return log('Lengkapi data.')
 const r=await safeFetch(apiUrl(t,'setMyName'),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:n})})
 r.ok?log('Nama bot diperbarui.'):log('Gagal: '+JSON.stringify(r))
}

document.getElementById('spamBtn').onclick=async()=>{
 const t=document.getElementById('token').value.trim(),id=document.getElementById('idSpam').value.trim(),j=parseInt(document.getElementById('jumlahSpam').value||'0'),m=document.getElementById('pesanSpam').value.trim()
 if(!t||!id||!m||j<1)return log('Lengkapi data spam.')
 if(!confirm('Yakin kirim '+j+' pesan ke '+id+'?'))return
 for(let i=0;i<j;i++){
   const r=await safeFetch(apiUrl(t,'sendMessage'),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({chat_id:id,text:m})})
   if(!r.ok){log('Gagal pada pesan ke-'+(i+1));break}
   await new Promise(r=>setTimeout(r,500))
 }
 log('Spam selesai.')
}
</script>
</body>
